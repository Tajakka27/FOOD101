(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[702],{"3a3c2392a9016db189f7":function(e,t,a){"use strict";var n=a("4aef4ce6348d80d187fe"),r=a.n(n),c=a("281cbdced79d8f3d2562"),o=a.n(c),i=a("69084d01d3449fc1bc27"),l=a.n(i),d=a("6eb43b0058992be9ac4c"),s=a("53cc37ec3271e151e192");const u=e=>{let{isVisible:t,direction:a,onClick:n}=e;return t?l.a.createElement("div",{className:"button-holder "+a},l.a.createElement(s.Button,{onClick:n,"aria-hidden":!0,tabIndex:-1,className:"nav-scroller","data-testid":"button-"+a,"aria-label":"button-"+a},l.a.createElement(d.a,null))):null};var f=a("5d4078697c141453257e");const b=e=>{let{onLastSeenTileUpdated:t,updateLastSeenTileOnLoad:a,laneIdentifier:n,children:c}=e;const d=Object(i.useRef)(null),[s,b]=Object(i.useState)(0),[m,p]=Object(i.useState)(0),[h,v]=Object(i.useState)(!1),[E,g]=Object(i.useState)(!1),[y,O]=Object(i.useState)(!1),w=Object(i.useCallback)((()=>{d.current&&(g((e=>e>0)(s)),O((e=>{let{visibleLaneWidth:t,leftScrollPosition:a,wholeScrollableWidth:n}=e;return t+a<n})({leftScrollPosition:s,visibleLaneWidth:d.current.offsetWidth,wholeScrollableWidth:d.current.scrollWidth})),v("undefined"==typeof window||window.innerWidth>=768||!Object(f.isTouchDevice)()))}),[s]),j=Object(i.useCallback)((()=>{if(d.current){const e=d.current.querySelector("li");if(e){const a=(e=>{let{visibleLaneWidth:t,leftScrollPosition:a,tileWidth:n}=e;const r=t/n,c=a/n;return Math.floor(r+c)})({visibleLaneWidth:d.current.offsetWidth,leftScrollPosition:d.current.scrollLeft,tileWidth:e.offsetWidth});m<a&&(p(a),t&&t(a))}}}),[m,t]),S=Object(i.useCallback)((()=>{const e=r()(w,500);return w(),window.addEventListener("resize",e),a&&j(),()=>window.removeEventListener("resize",e)}),[w,j,a]);Object(i.useEffect)(S,[]),Object(i.useEffect)((()=>{d.current&&d.current.scrollLeft!==s&&(d.current.scrollTo?d.current.scrollTo({left:s,top:0,behavior:"smooth"}):d.current.scrollLeft=s,w())}),[s,w]);const T=()=>{if(d.current){const e=d.current.querySelector("li");if(e)return 2*e.offsetWidth}return 0};return l.a.createElement("div",{className:"lane-component"},h&&l.a.createElement(l.a.Fragment,null,l.a.createElement(u,{isVisible:y,direction:"next",onClick:()=>{if(d.current){const e=(e=>{let{visibleLaneWidth:t,leftScrollPosition:a,valueToScroll:n,wholeScrollableWidth:r}=e,c=a+n;return r-a<t&&(c=r-t),c})({leftScrollPosition:s,visibleLaneWidth:d.current.offsetWidth,valueToScroll:T(),wholeScrollableWidth:d.current.scrollWidth});b(e)}}}),l.a.createElement(u,{isVisible:E,direction:"prev",onClick:()=>{const e=(e=>{let{leftScrollPosition:t,valueToScroll:a}=e,n=t-a;return n<0&&(n=0),n})({leftScrollPosition:s,valueToScroll:T()});b(e)}})),l.a.createElement("div",{className:"lane-wrapper"},l.a.createElement("ul",{ref:d,"data-testid":n,className:n,onScroll:o()(j,300)},c)))};a.d(t,"a",(function(){return b}))},"4aef4ce6348d80d187fe":function(e,t,a){var n=a("281cbdced79d8f3d2562"),r=a("d333ba65fe18f0378f7c");e.exports=function(e,t,a){var c=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(a)&&(c="leading"in a?!!a.leading:c,o="trailing"in a?!!a.trailing:o),n(e,t,{leading:c,maxWait:t,trailing:o})}},"5059905cfd47976e56f1":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isTouchDevice=function(){return!("undefined"==typeof window||!("ontouchstart"in window))||!("undefined"==typeof navigator||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints)}},"5d4078697c141453257e":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("5059905cfd47976e56f1");t.isTouchDevice=n.isTouchDevice},"6eb43b0058992be9ac4c":function(e,t,a){"use strict";var n=a("69084d01d3449fc1bc27"),r=a.n(n);const c=()=>r.a.createElement("svg",{width:"12",height:"14",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{className:"svg-stroke-container",strokeLinejoin:"round",strokeLinecap:"round",fillRule:"evenodd",fill:"none",d:"m3.5,1.5l5,5.5l-5,5.5"}));a.d(t,"a",(function(){return c}))},"960d07046085a818b0bf":function(e,t,a){},c813cd82add6002b74fd:function(e,t,a){"use strict";a.r(t);var n=a("69084d01d3449fc1bc27"),r=a.n(n),c=a("eb4ab8692a93d302e615"),o=a("41beed847bdf3255404d"),i=a("47974fb721937c04699a"),l=a("082ff60a1bbb1aa5e44a"),d=a("53cc37ec3271e151e192"),s=a("3a3c2392a9016db189f7"),u=a("e6a3ac13effb4389c523"),f=a("b1f2395a04c124ad5dd3"),b=a("c3177b949b62ea8f6520"),m=a("9a3ff1fb35cf5bb618c8"),p=a("1e89c62c410909f0c3cb"),h=a("af822b397a35329ca134"),v=a("8a4b35098a76af706996"),E=a("0552a8d357e4e0e261a2"),g=a("ec2e813ace6500acf219");a("960d07046085a818b0bf");t.default=e=>{let{countryCode:t,vendorName:a,vendorId:y,expeditionType:O,languageId:w,apiKey:j,token:S,latitude:T,longitude:_,locale:L,hasLocation:R,hasNonDeliverableAddress:k,orderTime:N,vendorMenu:C,toppings:x}=e;const W=Object(c.i)(),D=Object(n.useRef)(!1),[P,B]=Object(n.useState)(!0),[I,A]=Object(n.useState)(),[M,q]=Object(n.useState)(),{currencyFormatter:K,currency:{currency_symbol_iso:V}}=Object(n.useContext)(p.a),F=Object(h.d)(v.f),G=Object(h.c)(),z=Object(n.useMemo)((()=>new Intl.DateTimeFormat(L.replace("_","-"),{weekday:"short",month:"long",day:"numeric"})),[L]);return Object(n.useEffect)((()=>{B(!0),Object(b.k)({countryCode:t,apiKey:j,token:S,params:{vendor_id:y,expedition_type:O,language_id:w}}).then((e=>{q(e),e.length&&!D.current&&(D.current=!0,Object(g.v)({event:m.RdpGtmEvents.QuickReordersViewed}))})).finally((()=>{B(!1)}))}),[j,t,O,w,S,y]),P?r.a.createElement(i.Box,{as:"section",className:"section-container",paddingTop:"sm",paddingBottom:"sm"},r.a.createElement(l.Typography,{type:"title-sm"},W(o.e.REORDER_CHECKING_FOR_ORDERS))):M&&0!==M.length?r.a.createElement(i.Box,{as:"section",className:"section-container",paddingTop:"md",paddingBottom:"xxs","data-testid":f.Ob},r.a.createElement(l.Typography,{as:"h2",type:"label-sm",marginBottom:"sm",color:"neutral-primary"},W(o.e.RECENT_ORDERS)),r.a.createElement("div",{className:"quick-reorder-swimlane-wrapper"},r.a.createElement(s.a,{laneIdentifier:"quick-reorder-swimlane"},M.map((e=>{let{code:n,date:c,total_value:s,vendors:p}=e;const h=I===n,v=p[0].products,L=v.length;return r.a.createElement(i.Box,{key:n,as:"li",padding:"sm",className:"quick-reorder-tile",marginRight:"sm",justifyContent:"space-between","data-testid":f.Pb},r.a.createElement(i.Box,{direction:"row",alignItems:"center",justifyContent:"space-between"},r.a.createElement(l.Typography,{"data-testid":f.Qb,as:"p",type:"label-lg",className:"truncate",color:"neutral-primary"},v[0].name),r.a.createElement(l.Typography,{as:"p",marginLeft:"sm",type:"paragraph-sm",color:"neutral-secondary",className:"quick-reorder-price"},K(s))),L>1&&r.a.createElement(l.Typography,{"data-testid":f.Mb,as:"p",marginTop:"xxs",type:"paragraph-sm",color:"neutral-secondary"},"+ ",L-1," ",W(o.e.REORDER_MORE_ITEMS)),r.a.createElement(i.Box,{direction:"row",alignItems:"center",marginTop:"sm",justifyContent:"space-between"},r.a.createElement(l.Typography,{as:"p",type:"paragraph-sm",color:"neutral-secondary"},z.format(new Date(c))),r.a.createElement(d.Button,{kind:"ghost",size:"small",disabled:h,className:"quick-reorder-add-button",onClick:()=>function(e,n){const r=Object(E.getEvents)();R?k?r.emit(m.RdpEvents.NonDeliverableAddress,{vendorName:a,address:F,expedition:O}):(A(e),Object(g.v)({event:m.RdpGtmEvents.QuickReorderClicked,transactionId:e,cartValue:n}),Object(b.j)({countryCode:t,apiKey:j,token:S,params:{language_id:w},orderCode:e,body:{reorder_time:N,address:{latitude:T,longitude:_}}}).then((t=>{let{cart:n,changedLocation:r}=t;Object(b.A)({orderTime:N,menu:C,orderProducts:n.products,orderCode:e,currency:V,changedLocation:r,dispatch:G,translate:W,vendorId:y,vendorName:a,toppings:x})})).catch((()=>{r.emit(m.RdpEvents.GenericError)})).finally((()=>{A()}))):r.emit(m.RdpEvents.NoAddressEntered,{vendorName:a})}(n,s),"data-testid":f.Lb},h?r.a.createElement(u.a,null):W(o.e.REORDER))))}))))):null}}}]);
//# sourceMappingURL=quick-reorder-quick-reorder-swimlane-tsx~493df0b3.9533d24351d61631a451.esm.js.map